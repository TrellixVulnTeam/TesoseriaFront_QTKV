
<mat-toolbar>

    <span><img src="../assets/img/logo.png" style="width:20% ;"></span>
    <span class="spacer"></span>
    <span>Jhon</span>
    <button mat-icon-button color="primary">
        <span class="material-icons">
            account_circle
        </span>
    </button>

</mat-toolbar>
<br>
<div class="row justify-content-center">
    <div class="col-md-10">

        <h1 class="text-center" style="font-weight: 400; color: gray;">Gestion Tesoreria</h1>
        <br>

        <div class="row">
            <div class="col-md-12 cont-filtro">

                <form class="date-block" [formGroup]="filterForm">
                    <div class="date-block__list">
                        <mat-form-field appearance="fill" style="width: 100%;">
                            <mat-label>Fecha Comienzo</mat-label>
                            <input matInput [matDatepicker]="fromDate" placeholder="From Date"
                                formControlName="fromDate">
                            <mat-datepicker-toggle matSuffix [for]="fromDate"></mat-datepicker-toggle>
                            <mat-datepicker #fromDate> </mat-datepicker>
                        </mat-form-field>
                    </div>
                    <div class="date-block__list">
                        <mat-form-field appearance="fill" style="width: 100%;">
                            <mat-label>Fecha Final</mat-label>
                            <input matInput [matDatepicker]="toDate" placeholder="To Date" formControlName="toDate">
                            <mat-datepicker-toggle matSuffix [for]="toDate"></mat-datepicker-toggle>
                            <mat-datepicker #toDate> </mat-datepicker>
                        </mat-form-field>
                    </div>
                    <div class="btn">
                        <button style="height: 100%;" mat-raised-button color="primary" (click)="filtroFechas()">
                            <span class="material-icons">
                                search
                            </span>
                        </button>
                    </div>
                </form>

                <div style="width: 25%;">
                    <mat-form-field style="width: 100%;" hintLabel="Max 10 characters" appearance="fill">
                        <mat-label>N° Factura</mat-label>
                        <input matInput (keyup)="filtroFactura(factura.value)" #factura maxlength="10"
                            placeholder="N° Factura">
                        <!-- <mat-hint align="end">{{input.value?.length || 0}}/10</mat-hint>-->
                    </mat-form-field>
                </div>


            </div>
        </div>
        <br>

        <div class="mat-elevation-z8" *ngIf="dataSource">
            <table mat-table [dataSource]="dataSource" class="w-100">
                <!-- Name Column -->
                <ng-container matColumnDef="ruc_dni">
                    <th mat-header-cell style="margin-right: 20px;" *matHeaderCellDef class="text-center"> Ruc Dni </th>
                    <td mat-cell *matCellDef="let element" class="text-center"> {{element.ruc_dni}} </td>
                </ng-container>



                <ng-container matColumnDef="referencia_factura">
                    <th mat-header-cell *matHeaderCellDef class="text-center tabla-encabezado"> Ref. Factura </th>
                    <td mat-cell *matCellDef="let element" class="text-center"> {{element.referencia_factura}} </td>
                </ng-container>

                <ng-container matColumnDef="moneda">
                    <th mat-header-cell *matHeaderCellDef class="text-center tabla-encabezado"> Moneda </th>
                    <td mat-cell *matCellDef="let element" class="text-center"> {{element.moneda}} </td>
                </ng-container>

                <ng-container matColumnDef="importe_documento">
                    <th mat-header-cell *matHeaderCellDef class="text-center tabla-encabezado"> Imp. Documento </th>
                    <td mat-cell *matCellDef="let element" class="text-center"> {{element.importe_documento}} </td>
                </ng-container>

                <ng-container matColumnDef="importe_retencion">
                    <th mat-header-cell *matHeaderCellDef class="text-center tabla-encabezado"> Imp. Retencion 3% </th>
                    <td mat-cell *matCellDef="let element" class="text-center"> {{element.importe_retencion}} </td>
                </ng-container>



                <ng-container matColumnDef="importe_cancelado">
                    <th mat-header-cell *matHeaderCellDef class="text-center tabla-encabezado"> Imp. Cancelado </th>
                    <td mat-cell *matCellDef="let element" class="text-center"> {{element.importe_cancelado}} </td>
                </ng-container>

                <ng-container matColumnDef="banco">
                    <th mat-header-cell *matHeaderCellDef class="text-center tabla-encabezado"> Banco </th>
                    <td mat-cell *matCellDef="let element" class="text-center"> {{element.banco}} </td>
                </ng-container>

                <ng-container matColumnDef="cuenta_abono">
                    <th mat-header-cell *matHeaderCellDef class="text-center tabla-encabezado"> Cuenta Abono </th>
                    <td mat-cell *matCellDef="let element" class="text-center"> {{element.cuenta_abono}} </td>
                </ng-container>

                <ng-container matColumnDef="fecha_pago">
                    <th mat-header-cell *matHeaderCellDef class="text-center tabla-encabezado"> Fecha Pago </th>
                    <td mat-cell *matCellDef="let element" class="text-center"> {{element.fecha_pago| date:
                        'dd/MM/yyyy'}} </td>
                </ng-container>

                <ng-container matColumnDef="concepto_pago">
                    <th mat-header-cell *matHeaderCellDef class="text-center tabla-encabezado"> Concepto Pago </th>
                    <td mat-cell *matCellDef="let element" class="text-center"> {{element.concepto_pago }} </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns  ;"></tr>

                <!-- Symbol Column -->
                <!--<ng-container matColumnDef="iRetencion">
                    <th mat-header-cell *matHeaderCellDef> Acciones </th>
                    <td mat-cell *matCellDef="let element">
                        
                        <button  mat-icon-button href="#" [routerLink]="[element.idcontacto]">
                            <mat-icon  color="primary">edit_note</mat-icon>
                        </button>

                        <button   [disabled]="userName === 'otro'" mat-icon-button routerLink="/contactos" class="ms-2"  (click)="delete(element)">
                            <mat-icon [ngClass]="{'desac' : userName === 'otro', 'rojo': userName ===''}" >delete</mat-icon>
                        </button>
                    </td>
                </ng-container>-->





            </table>
            <mat-paginator style="width: 100%;" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
        </div>
    </div>
</div>